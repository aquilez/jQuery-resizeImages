/**
 * jQuery ResizeImages v1.1
 *
 * @author  Santiago Dimattía <master@teleportz.com.ar>
 * @link    http://aquilez.github.com/jQuery-resizeImages/
 * @version 1.1
 * @license http://www.opensource.org/licenses/mit-license.php MIT License
 */
 (function(e){e.fn.resizeImages=function(t){var n={maxWidth:0,maxHeight:0,msgResized:"This image has been scaled to {resized_w}x{resized_h}px. Click here to see the original size of {original_w}x{original_h}px.",msgNotResized:"This is the original size of the image ({original_w}x{original_h}px). Click here to resize it.",showOriginalCallback:function(){return true},showResizedCallback:function(){return true}};var r=e.extend(n,t);this.each(function(){if(e(this).is("img")==false){return}var t=e(this);e(this).load(function(){if(r.maxWidth!=0&&t.width()<=r.maxWidth&&r.maxHeight!=0&&t.height()<=r.maxHeight){return}var n=t.width();var i=t.height();if(r.maxWidth>0&&r.maxHeight>0){var s=n/r.maxWidth;var o=i/r.maxHeight;var u=Math.max(s,o);var a=Math.round(n/u);var f=Math.round(i/u)}else if(r.maxWidth>0){var a=r.maxWidth;var f=i}else if(r.maxHeight>0){var a=n;var f=r.maxHeight}else{return}var l=function(e){var t={"{original_w}":n,"{original_h}":i,"{resized_w}":a,"{resized_h}":f};for(var r in t){e=e.split(r).join(t[r])}return e};t.wrap('<div class="resizedImageContainer" style="width: '+a+'px;" />');t.width(a);t.height(f);var c=t.parent();c.prepend("<div>"+l(r.msgResized)+"</div>");c.children("div").click(function(){var s=e(this).parent();if(s.hasClass("notResized")){if(r.showResizedCallback(t)){t.width(a);t.height(f);s.width(a);s.children("div").html(l(r.msgResized));s.removeClass("notResized")}}else{if(r.showOriginalCallback(t)){t.width(n);t.height(i);s.width(n);s.children("div").html(l(r.msgNotResized));s.addClass("notResized")}}})}).load()})}})(jQuery)